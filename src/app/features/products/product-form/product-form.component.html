<form class="grid gap-3" [formGroup]="form" (ngSubmit)="submit()">
  <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
    <label class="grid gap-2 text-xs text-slate-700">
      SKU / Barcode
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="sku"
      />
    </label>
    <label class="grid gap-2 text-xs text-slate-700">
      Product Name
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="name"
      />
    </label>
  </div>

  <label class="grid gap-2 text-xs text-slate-700">
    Barcode (optional)
    <input
      class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
      formControlName="barcode"
    />
  </label>

  <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
    <label class="grid gap-2 text-xs text-slate-700">
      Brand
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="brand"
      />
    </label>
    <label class="grid gap-2 text-xs text-slate-700">
      Category
      <select
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="category"
      >
        <option value="">Select category</option>
        <option *ngFor="let c of categories" [value]="c.name">{{ c.name }}</option>
      </select>
    </label>
  </div>

  <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
    <label class="grid gap-2 text-xs text-slate-700">
      Variant
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="variant"
      />
    </label>
    <label class="grid gap-2 text-xs text-slate-700">
      Unit
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="unitOfMeasure"
      />
    </label>
  </div>

  <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
    <label class="grid gap-2 text-xs text-slate-700">
      Buying Price
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        type="number"
        formControlName="buyingPrice"
      />
    </label>
    <label class="grid gap-2 text-xs text-slate-700">
      Selling Price
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        type="number"
        formControlName="sellingPrice"
      />
    </label>
  </div>

  <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
    <label class="grid gap-2 text-xs text-slate-700">
      Batch Number
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="batchNumber"
      />
    </label>
    <label class="grid gap-2 text-xs text-slate-700">
      Expiry Date
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        type="date"
        formControlName="expiryDate"
      />
    </label>
  </div>

  <label class="grid gap-2 text-xs text-slate-700">
    Location
    <input
      class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
      formControlName="location"
    />
  </label>

  <div class="text-sm text-red-700" *ngIf="error">{{ error }}</div>

  <div class="mt-2 flex justify-end gap-2">
    <button
      class="rounded-xl bg-slate-100 px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-70"
      type="button"
      (click)="onCancel()"
      [disabled]="loading"
    >
      Cancel
    </button>

    <button
      class="rounded-xl bg-indigo-950 px-4 py-2 text-sm font-semibold text-white disabled:cursor-not-allowed disabled:opacity-70"
      type="submit"
      [disabled]="form.invalid || loading"
    >
      {{ loading ? 'Saving...' : 'Create' }}
    </button>
  </div>
</form>
