<div class="flex items-center">
  <h2 class="text-xl font-semibold text-slate-900">Stock Movements</h2>
</div>

<div class="mt-4 rounded-2xl bg-white p-4 shadow-sm ring-1 ring-slate-100">
  <form class="grid gap-3 sm:grid-cols-[240px_auto] sm:items-end" [formGroup]="filterForm" (ngSubmit)="load()">
    <label class="grid gap-2 text-xs text-slate-700">
      Type (IN / OUT / LOSS / ADJUSTMENT / RETURN)
      <input
        class="rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:border-purple-500"
        formControlName="type"
      />
    </label>

    <button class="rounded-xl bg-indigo-950 px-4 py-2 text-sm font-semibold text-white" type="submit">
      Apply
    </button>
  </form>

  <div class="mt-3 text-sm text-red-700" *ngIf="error()">{{ error() }}</div>

  <div class="mt-3 overflow-auto rounded-xl ring-1 ring-slate-100">
    <table class="w-full border-collapse text-sm">
      <thead class="bg-slate-50">
        <tr>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">Date</th>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">Type</th>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">SKU</th>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">Product</th>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">Batch</th>
          <th class="px-3 py-2 text-right text-xs font-semibold text-slate-600">Qty</th>
          <th class="px-3 py-2 text-left text-xs font-semibold text-slate-600">By</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let m of items()" class="border-t border-slate-100">
          <td class="px-3 py-2">{{ m.createdAt }}</td>
          <td class="px-3 py-2 font-semibold">{{ m.type }}</td>
          <td class="px-3 py-2">{{ m.sku }}</td>
          <td class="px-3 py-2">{{ m.productName }}</td>
          <td class="px-3 py-2">{{ m.batchNumber }}</td>
          <td class="px-3 py-2 text-right font-semibold">{{ m.quantity }}</td>
          <td class="px-3 py-2">{{ m.createdBy || '-' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
